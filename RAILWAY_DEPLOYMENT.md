# ๐ ุฏููู ุฑูุน KasserPro ุนูู Railway

Railway ูู ููุตุฉ ุงุณุชุถุงูุฉ ุณุญุงุจูุฉ ููุชุงุฒุฉ ูุฑูุน ุชุทุจููุงุช .NET ูPostgreSQL ุจุณูููุฉ!

---

## ๐ ุงููุชุทูุจุงุช

- ุญุณุงุจ ุนูู [Railway](https://railway.app) (ูุฌุงูู)
- ูุดุฑูุนู ุนูู GitHub (ุฃู Git repository)
- PostgreSQL ุชู ุชุญูููู ุจุงููุนู โ

---

## ๐ ุฎุทูุงุช ุงูุฑูุน ุนูู Railway

### 1๏ธโฃ ุฅูุดุงุก ุญุณุงุจ ุนูู Railway

1. ุงุฐูุจ ุฅูู: https://railway.app
2. ุงููุฑ **Login** โ **Sign up with GitHub** (ุฃู ุฃู ุทุฑููุฉ ุฃุฎุฑู)
3. ุณุฌู ุฏุฎููู

---

### 2๏ธโฃ ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ

1. ูู Dashboardุ ุงููุฑ **+ New Project**
2. ุงุฎุชุฑ **Deploy from GitHub repo** (ุฃู **Empty Project** ุฅุฐุง ูู ููู ุงููุดุฑูุน ุนูู GitHub)
3. ุฅุฐุง ุงุฎุชุฑุช GitHub:
   - ุงุฎุชุฑ Repository ุงูุฎุงุต ุจู
   - Railway ุณููุชุดู ุชููุงุฆูุงู ุฃูู ูุดุฑูุน .NET

---

### 3๏ธโฃ ุฅุถุงูุฉ PostgreSQL Database

1. ูู ูุดุฑูุนู ุนูู Railwayุ ุงููุฑ **+ New**
2. ุงุฎุชุฑ **Database** โ **Add PostgreSQL**
3. Railway ุณููุดุฆ ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL ุชููุงุฆูุงู
4. **ููู:** ุณุชุญุตู ุนูู ูุชุบูุฑ ุจูุฆุฉ ุงุณูู `DATABASE_URL` ุชููุงุฆูุงู

---

### 4๏ธโฃ ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ (Environment Variables)

ูู ุตูุญุฉ ุงููุดุฑูุนุ ุงุฐูุจ ุฅูู **Variables** ูุฃุถู:

#### ูุชุบูุฑุงุช ูุทููุจุฉ:

| ุงููุชุบูุฑ | ุงููููุฉ | ุงููุตู |
|---------|--------|-------|
| `DATABASE_URL` | โ **ูุชู ุฅุถุงูุชู ุชููุงุฆูุงู** ูู PostgreSQL service | Connection string ููุงุนุฏุฉ ุงูุจูุงูุงุช |
| `ASPNETCORE_ENVIRONMENT` | `Production` | ุจูุฆุฉ ุงูุชุทุจูู |
| `ASPNETCORE_URLS` | `http://0.0.0.0:$PORT` | Railway ูุณุชุฎุฏู ูุชุบูุฑ `$PORT` |

#### ูุชุบูุฑุงุช JWT (ุงุฎุชูุงุฑู - ููู ููุตู ุจู):

| ุงููุชุบูุฑ | ุงููููุฉ | ุงููุตู |
|---------|--------|-------|
| `Jwt__Key` | `YourSuperSecretKey123456789012345678901234567890` | ููุชุงุญ JWT (ุงุณุชุฎุฏู ููุชุงุญ ููู!) |
| `Jwt__Issuer` | `KasserPro` | Issuer ูู JWT |
| `Jwt__Audience` | `KasserProUsers` | Audience ูู JWT |

> **ููุงุญุธุฉ:** ูู Railwayุ ุงุณุชุฎุฏู `__` (double underscore) ุจุฏูุงู ูู `:` ูู appsettings.json
> 
> ูุซุงู: `Jwt:Key` ูู appsettings.json = `Jwt__Key` ูู Railway

---

### 5๏ธโฃ ุฅุนุฏุงุฏุงุช ุงูุจูุงุก (Build Settings)

Railway ุณููุชุดู ุชููุงุฆูุงู ุฃูู ูุดุฑูุน .NETุ ููู ููููู ุงูุชุฃูุฏ:

1. ุงุฐูุจ ุฅูู **Settings** โ **Build**
2. **Build Command:** `dotnet publish -c Release -o /app`
3. **Start Command:** `dotnet /app/KasserPro.dll`

> โ ุชู ุฅูุดุงุก ููู `railway.json` ูู ุงููุดุฑูุน - Railway ุณูุณุชุฎุฏูู ุชููุงุฆูุงู!

---

### 6๏ธโฃ ุชุดุบูู Migrations

Railway ุณูุดุบู ุงูุชุทุจูู ุชููุงุฆูุงูุ ู**Migrations ุณุชุนูู ุชููุงุฆูุงู** ูุฃู ุงูููุฏ ูู `Program.cs` ูุญุชูู ุนูู:

```csharp
db.Database.Migrate();
```

ูุฐุง ูุนูู ุฃู ุงูุฌุฏุงูู ุณุชููุดุฃ ุชููุงุฆูุงู ุนูุฏ ุฃูู ุชุดุบูู! ๐

---

### 7๏ธโฃ ุงููุดุฑ (Deploy)

1. Railway ุณูุจุฏุฃ ุงูุจูุงุก ุชููุงุฆูุงู ุนูุฏ push ุฃู commit ุฌุฏูุฏ
2. ุฃู ููููู ุงููุดุฑ ูุฏููุงู ูู **Deployments** tab
3. ุงูุชุธุฑ ุญุชู ููุชูู ุงูุจูุงุก (ุนุงุฏุฉ 2-5 ุฏูุงุฆู)

---

### 8๏ธโฃ ุงูุญุตูู ุนูู ุงูุฑุงุจุท (Domain)

1. ุจุนุฏ ุงููุดุฑุ ุงุฐูุจ ุฅูู **Settings** โ **Networking**
2. ุงููุฑ **Generate Domain** ููุญุตูู ุนูู ุฑุงุจุท ุนุงู
3. ุฃู ุฃุถู **Custom Domain** ุฅุฐุง ูุงู ูุฏูู

ูุซุงู: `https://kasserpro-production.up.railway.app`

---

## โ ุงูุชุญูู ูู ุฃู ูู ุดูุก ูุนูู

### 1. ุชุญูู ูู Logs

1. ุงุฐูุจ ุฅูู **Deployments** โ ุงุฎุชุฑ ุขุฎุฑ deployment
2. ุงููุฑ **View Logs**
3. ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก
4. ูุฌุจ ุฃู ุชุฑู: `Now listening on: http://[::]:PORT`

### 2. ุงุฎุชุจุฑ API

ุงูุชุญ ุงูุฑุงุจุท ุงูุฐู ุญุตูุช ุนููู + `/swagger`:
```
https://your-app.railway.app/swagger
```

### 3. ุงุฎุชุจุฑ Endpoints

ุฌุฑุจ:
- `GET /api/products` - ูุฌุจ ุฃู ูุนูุฏ ูุงุฆูุฉ ุงูููุชุฌุงุช
- `GET /api/categories` - ูุฌุจ ุฃู ูุนูุฏ ุงูุชุตูููุงุช

---

## ๐ง ุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ

### CORS ููู Frontend

ุฅุฐุง ูุงู ูุฏูู Frontend ุนูู Railway ุฃูุถุงู ุฃู ุนูู Vercel/Netlify:

1. ูู **Variables**ุ ุฃุถู:
   ```
   CORS__AllowedOrigins=https://your-frontend.vercel.app,https://your-frontend.netlify.app
   ```

2. ุฃู ุงุชุฑู `AllowAll` ููุง ูู (ููุชุทููุฑ ููุท)

### HTTPS

Railway ูููุฑ HTTPS ุชููุงุฆูุงู! ูุง ุญุงุฌุฉ ูุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ.

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### โ ุฎุทุฃ: "Connection refused" ุฃู "Could not connect to database"

**ุงูุญู:**
1. ุชุฃูุฏ ุฃู PostgreSQL service ููุฌูุฏ ูู ููุณ ุงููุดุฑูุน
2. ุชุฃูุฏ ุฃู `DATABASE_URL` ููุฌูุฏ ูู Variables
3. ุชุญูู ูู Logs ูุฑุคูุฉ Connection String (ุจุฏูู ูููุฉ ุงููุฑูุฑ)

### โ ุฎุทุฃ: "Migration failed"

**ุงูุญู:**
1. ุชุญูู ูู Logs ููุนุฑูุฉ ุงูุฎุทุฃ ุงููุญุฏุฏ
2. ุชุฃูุฏ ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงุฑุบุฉ (ุฃู ุงุญุฐููุง ูุฃูุดุฆูุง ูู ุฌุฏูุฏ)
3. ููููู ุชุดุบูู Migration ูุฏููุงู ูู Railway CLI:

```bash
# ุชุซุจูุช Railway CLI
npm i -g @railway/cli

# ุชุณุฌูู ุงูุฏุฎูู
railway login

# ุงูุงุชุตุงู ุจุงููุดุฑูุน
railway link

# ุชุดุบูู Migration
railway run dotnet ef database update
```

### โ ุงูุชุทุจูู ูุง ูุนูู ุจุนุฏ ุงููุดุฑ

**ุงูุญู:**
1. ุชุญูู ูู Logs
2. ุชุฃูุฏ ูู `ASPNETCORE_URLS=http://0.0.0.0:$PORT`
3. ุชุฃูุฏ ูู ุฃู Port ููุดูู ูู **Settings** โ **Networking**

---

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### Logs

- **Real-time Logs:** ูุชุงุญุฉ ูู Dashboard
- **Log Retention:** 7 ุฃูุงู ูู ุงูุฎุทุฉ ุงููุฌุงููุฉ

### Metrics

- **CPU Usage**
- **Memory Usage**
- **Network Traffic**

---

## ๐ฐ ุงูุฃุณุนุงุฑ

### ุงูุฎุทุฉ ุงููุฌุงููุฉ (Hobby)

- โ $5 ุฑุตูุฏ ูุฌุงูู ุดูุฑูุงู
- โ 500 ุณุงุนุฉ ุชุดุบูู
- โ 5GB bandwidth
- โ 1GB database storage
- โ ููุงุณุจ ูููุดุงุฑูุน ุงูุตุบูุฑุฉ ูุงููุชูุณุทุฉ

### ุงูุฎุทุฉ ุงููุฏููุนุฉ

- $20/ุดูุฑ ููุฎุทุฉ Developer
- ููุงุฑุฏ ุฃูุจุฑ ูุฃุฏุงุก ุฃูุถู

---

## ๐ ุงูุชุญุฏูุซุงุช ุงูุชููุงุฆูุฉ

Railway ูุฑุจุท ุชููุงุฆูุงู ูุน GitHub:

1. ุฃู **push** ุฅูู `main` ุฃู `master` branch
2. Railway ุณูุจูู ูููุดุฑ ุชููุงุฆูุงู
3. ููููู ุชุนุทูู ูุฐุง ูู **Settings** โ **Source**

---

## ๐ ููุงุญุธุงุช ูููุฉ

### 1. ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

- โ **ูุง ุชุถุน** ูููุงุช ุงููุฑูุฑ ูู ุงูููุฏ
- โ ุงุณุชุฎุฏู **Variables** ูู Railway
- โ ุงุณุชุฎุฏู **Secrets** ูููุนูููุงุช ุงูุญุณุงุณุฉ ุฌุฏุงู

### 2. ุงููุณุฎ ุงูุงุญุชูุงุทู

- Railway ูููุฑ ูุณุฎ ุงุญุชูุงุทู ุชููุงุฆู
- ููููู ุชุตุฏูุฑ ุงูุจูุงูุงุช ูู **PostgreSQL** service โ **Data** โ **Backup**

### 3. ุงูุจูุฆุงุช ุงููุชุนุฏุฏุฉ

ููููู ุฅูุดุงุก:
- **Production** environment
- **Staging** environment
- ูู ูุงุญุฏ ูู ูุงุนุฏุฉ ุจูุงูุงุช ูููุตูุฉ

---

## ๐ ุชูุงูููุง!

ูุดุฑูุนู ุงูุขู ุนูู ุงูุณุญุงุจุฉ ููุนูู! ๐

---

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

- **Railway Documentation:** https://docs.railway.app
- **Railway Discord:** https://discord.gg/railway
- **.NET on Railway:** https://docs.railway.app/guides/dotnet

---

## ๐ ุฑูุงุจุท ุณุฑูุนุฉ

- [Railway Dashboard](https://railway.app/dashboard)
- [Railway Status](https://status.railway.app)
- [Railway Pricing](https://railway.app/pricing)

